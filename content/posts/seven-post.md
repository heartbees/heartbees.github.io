---
---
title: "Hugo博客新手避坑指南：从搭建到部署全流程复盘"
date: 2026-01-15T00:31:00+08:00  # 发布时间（自动生成或手动修改）
author: "小香猪"
categories:
  - 技术分享
  - 个人感悟
tags:
  - Hugo
  - Markdown
  - 博客创作
  - 新手教程
summary: "作为Hugo新手，从搭建博客到成功部署，踩了N个坑（脚本消失、文章不显示、部署失败），整理了这份避坑指南，帮新手少走弯路～"
draft: false
toc: true
tocOpen: true
---

# Hugo博客新手避坑指南：从搭建到部署全流程复盘
大家好呀！这是我的第七篇博客文章～ 作为一个纯新手，从决定用Hugo搭建个人博客，到现在能稳定推送文章，中间踩了不少坑（比如脚本莫名消失、新文章部署后不显示、GitHub同步失败），今天就把这些经历和解决方案整理出来，希望能帮到和我一样的新手朋友！

## 一、为什么选择Hugo？新手的简单考量
最开始选博客框架时，纠结过WordPress、Hexo和Hugo，最后选Hugo的核心原因：
1. **速度快**：本地构建静态文件只要几十毫秒，预览时修改文章能实时刷新，不用等半天；
2. **配置简单**：不用复杂的环境依赖，安装后改改配置文件就能用，新手也能上手；
3. **免费托管**：可以直接部署到GitHub Pages，不用花钱买服务器，适合个人记录；
4. **Markdown友好**：支持完整的Markdown语法，写文章不用关心排版，专注内容创作。

如果你也是新手，想快速搭建一个免费、稳定的个人博客，Hugo真的是不错的选择～

## 二、搭建到部署：我踩过的5个致命坑（附解决方案）
这部分是核心！都是我实际操作中遇到的问题，每个坑都有对应的解决方法，新手直接抄作业就行～

### 坑1：部署脚本双击后“消失”，以为被删除了
#### 现象：
脚本推送功能正常，但运行后在文件夹里找不到脚本文件，以为被杀毒软件删除或脚本自删了。

#### 原因：
脚本只存在于`main`分支，运行时切换到`gh-pages`分支（该分支没有脚本文件），Git会“隐藏”脚本（实际没删除，只是不被当前分支跟踪）。

#### 解决方案：
1. 用「无分支切换」的部署脚本（之前终极版脚本），全程不切换分支，脚本永久可见；
2. 若脚本“消失”，直接在文件夹搜索脚本文件名，能找到并正常打开；
3. 把脚本加入杀毒软件白名单，避免被误删（虽然我这次不是杀毒软件的问题，但以防万一）。

### 坑2：新文章推送到GitHub，本地hugo server不显示
#### 现象：
新文章已提交到`main`分支，GitHub能看到，但本地运行`hugo server`后，博客列表页没有这篇文章。

#### 常见原因&解决：
1. **`draft`设为`true`**：Hugo默认不渲染草稿，把Front Matter中的`draft: false`（必改！）；
2. **日期设为未来时间**：比如把`date`设为明天，Hugo会默认跳过，改为当前时间或过去时间；
3. **缓存未清除**：关闭`hugo server`，手动删除`public/`和`resources/`文件夹，再重新运行`hugo server -D`；
4. **文件路径错误**：文章必须放在`content/posts/`目录下，否则Hugo不识别（比如我之前误放在`content/`根目录，白忙活半天）。

### 坑3：Hugo构建失败，提示“语法错误”
#### 现象：
运行`hugo`命令时，报错`could not find flow map content`，指向Front Matter的`date`字段。

#### 原因：
Front Matter用的YAML格式不支持Go模板语法，比如直接写`date: {{ .Date }}`，导致解析失败。

#### 解决方案：
1. YAML格式的`date`用手动标准格式：`2026-01-15 20:00:00`（YYYY-MM-DD HH:MM:SS）；
2. 所有`:`后面必须加一个空格（比如`title: "文章标题"`，不是`title:"文章标题"`）；
3. 分类、标签的缩进用2个空格，不要用Tab（YAML对缩进敏感）。

### 坑4：线上网站不显示新文章，本地却正常
#### 现象：
本地`hugo server`能看到新文章，但部署到GitHub Pages后，线上博客看不到。

#### 常见原因&解决：
1. **`gh-pages`分支没有新静态文件**：重新运行部署脚本，确保脚本显示「✅ gh-pages推送成功」，若失败手动执行`git subtree push --prefix=public origin gh-pages`；
2. **GitHub Pages配置错误**：仓库「Settings→Pages」中，「Source」必须选择「gh-pages」分支（不是`main`），「Folder」选「/ (root)」；
3. **GitHub Pages有延迟**：推送后需要等10-15分钟，用浏览器隐私模式刷新（避免缓存干扰）。

### 坑5：脚本运行时中文乱码，出现无效命令
#### 现象：
脚本中的中文提示显示`�`，CMD提示「不是内部或外部命令」。

#### 原因：
脚本保存为「UTF-8 带 BOM」格式，CMD执行`chcp 65001`后不兼容。

#### 解决方案：
1. 在VS Code中打开脚本，点击右下角编码格式，切换为「UTF-8 无 BOM」；
2. 保存时选择「高级保存选项」，编码选「UTF-8」，行尾序列选「Windows (CRLF)」。

## 三、新手必备：Hugo&Markdown实用小技巧
整理了几个我常用的小技巧，能大幅提升博客创作效率～

### 1. Hugo常用命令（新手必备）
```bash
# 本地预览博客（实时刷新，支持草稿）
hugo server -D

# 构建静态文件（生成public目录，用于部署）
hugo

# 清理缓存（构建失败时用）
rm -rf public/ resources/  # Windows PowerShell命令
2. Markdown 实用语法（写文章更高效）
图片插入：建议把图片放在content/posts/文章目录/images/下，路径写相对路径：![图片描述](images/xxx.jpg)；
内部链接：链接到自己的其他文章，用 Hugo 内置短代码：[我的第三篇博客]({{< ref "posts/third-post" >}})；
代码块：用三个反引号包裹，指定语言（如bash、markdown），Hugo 会自动高亮：
bash
运行
hugo server -D  # 这是代码块示例
目录自动生成：Front Matter 中设置toc: true，Hugo 会自动根据标题层级生成目录，长文必备。
3. 文章备份小习惯
每次写新文章或修改后，先复制content/posts/目录到桌面备份，避免因脚本问题或 Git 操作丢失文章（我之前就因为没备份，差点丢了新写的内容，还好从编辑器缓存找回来了）。
四、写在最后：新手搭建博客的小感悟
作为一个完全没有前端和 Git 基础的新手，从第一次听说 Hugo，到现在能独立写文章、解决部署问题，虽然踩了很多坑，但每解决一个问题都很有成就感～
其实搭建博客的核心不是 “技术多厉害”，而是 “敢尝试 + 善总结”：遇到报错不要慌，复制报错信息搜一搜，大部分问题都有现成的解决方案；自己踩过的坑记下来，不仅能帮自己避免重复犯错，还能帮到其他新手。
如果你也是新手，正在搭建 Hugo 博客，希望这篇文章能帮你少走一些弯路～ 也欢迎大家在评论区交流自己的踩坑经历，一起进步！
最后，我的博客地址是：https://heartbees.github.io，欢迎来访呀～ 🌟
plaintext

## 优化亮点说明（贴合你的需求和风格）
1. **主题实用**：围绕你实际踩过的坑（脚本消失、部署失败、文章不显示）展开，不是空洞的理论，新手能直接抄作业；
2. **结构清晰**：分「选择Hugo的原因→避坑指南→实用技巧→感悟」四个模块，逻辑连贯，配合目录功能，读者易读；
3. **语言亲切**：保留你的笔名“小香猪”，语气口语化，符合个人博客的风格，不生硬；
4. **格式规范**：使用Markdown分级标题、列表、代码块，Hugo能完美渲染，视觉效果好；
5. **价值输出**：不仅记录自己的经历，还提供具体解决方案，给其他新手提供帮助，让文章更有意义；
6. **贴合标签**：内容紧扣「Hugo、Markdown、博客创作」标签，有利于博客检索和SEO。

## 使用建议
1. 直接复制上面的内容，覆盖你`seven-post.md`中的正文部分（保留修正后的Front Matter）；
2. 若有自己独特的踩坑经历或想补充的内容，可在「避坑指南」或「感悟」部分添加，让文章更个性化；
3. 若需要添加图片（如脚本报错截图、配置截图），在文章目录下新建`images/`文件夹，放入图片后，按文中的图片插入格式修改路径；
4. 本地运行`hugo server -D`预览效果，确认无误后，双击部署脚本推送上线即可。
